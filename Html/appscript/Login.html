<!DOCTYPE html>
<html lang="en" data-bs-theme="auto">
  <head>
    <base target="_top" />
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Palliative Care</title>

    <!-- fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Kodchasan:ital,wght@0,200;0,300;0,400;0,500;0,600;0,700;1,200;1,300;1,400;1,500;1,600;1,700&display=swap"
      rel="stylesheet"
    />

    <!-- Bootstrap V5.3 -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    />

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/jquery.md5@1.0.2/index.min.js"></script>

    <script
      src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
      integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js"
      integrity="sha384-0pUGZvbkm6XF6gxjEnlmuGrJXVbNuzT9qBBavbLwCsOGabYfZo0T0to5eqruptLy"
      crossorigin="anonymous"
    ></script>

    <script src="https://code.jquery.com/jquery-3.6.0.js"></script>

    <style>
      * {
        box-sizing: border-box;
        padding: 0;
        margin: 0;
        font-family: "Kodchasan", sans-serif;
      }

      html,
      body {
        height: 100%;
        background-image: url("https://lh5.googleusercontent.com/d/1ygnV2dAg2kfHfwnuhAz-Dg_UDIz6c4oC");
        background-position: center;
        background-repeat: no-repeat;
        background-size: cover;
      }

      .form-signin {
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        max-width: 350px;
        padding: 30px;
        border-radius: 30px;
        border: solid 1px #cfcfcf;
        background-color: transparent;
        backdrop-filter: blur(5px);
        -webkit-backdrop-filter: blur(5px);
        box-shadow: 20px 20px 60px #d9d9d9, -20px -20px 60px #ffffff;
      }

      button[type="submit"] {
        background-color: #0881a3;
        border: none;
        border-radius: 10px;
        color: #ffffff;
      }
    </style>
  </head>

  <body class="d-flex align-items-center py-4 bg-body-tertiary">
    <? var url = getUrl(); ?>
    <main id="login_page" class="form-signin container m-auto">
      <form method="post" action="<?= url ?>" autocomplete="off">
        <img
          class="mb-4"
          src="https://lh5.googleusercontent.com/d/1Q3dvsyhV6mIITRURLEA5y_0066FQ8762"
          alt=""
          width="100px"
          height="100px"
        />
        <h1 class="h3 mb-4 fw-bolder">ลงชื่อเข้าสู่ระบบ</h1>

        <div class="form-input was-validated mb-3">
          <label for="username" class="form-label">
            ชื่อผู้ใช้งาน
            <span class="text-danger ps-2"><?= message1; ?></span>
          </label>
          <input
            type="text"
            class="form-control"
            id="username"
            name="username"
            placeholder="username"
            value="<?= username; ?>"
            autocomplete="off"
            required
          />
        </div>
        <div class="form-input was-validated mb-3">
          <label for="password" class="form-label">
            รหัสผ่าน
            <span class="text-danger ps-2"><?= message2; ?></span>
          </label>
          <input
            type="password"
            class="form-control"
            id="password"
            name="password"
            placeholder="password"
            autocomplete="off"
            required
          />
        </div>
        <button class="w-100 py-2 mt-3" type="submit">เข้าสู่ระบบ</button>
      </form>
    </main>

    <script>
      const form = document.querySelector("form");
      const usernameEl = document.querySelector("#username");
      const passwordEl = document.querySelector("#password");
      const submitButton = document.querySelector("button[type='submit']");

      form.addEventListener("submit", function (e) {
        // e.preventDefault();
        submitButton.innerHTML = "กำลังตรวจสอบข้อมูล";
      });

      usernameEl.addEventListener("keyup", function () {
        const usernameSpan = usernameEl
          .closest(".form-input")
          .querySelector("span");
        usernameSpan.textContent = "";
      });

      passwordEl.addEventListener("keyup", function () {
        const usernameSpan = passwordEl
          .closest(".form-input")
          .querySelector("span");
        usernameSpan.textContent = "";
      });
    </script>
  </body>
</html>
